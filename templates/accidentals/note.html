{% extends "base.html" %}

{% block title %}Note {{ data.note }} - Melody Muse{% endblock %}

{% block content %}
<div class="learn-page">
    <div class="learn-container" style="max-width: 900px; margin: 0 auto;">
        <h1 class="page-title text-center">Note {{ data.note }}</h1>
        <div class="row g-4 align-items-stretch">
            <div class="col-md-6 d-flex">
                <div class="section-container flex-fill d-flex flex-column align-items-center justify-content-center" 
					style="max-width: 420px; width: 100%;">
                    <h2 class="text-center">Find it on the Clefs</h2>
                    <div class="image-wrapper d-flex flex-column align-items-center justify-content-center" style="gap: 1rem; width: 100%;">
                        <img src="{{ data.treble_clef_image }}" alt="Note {{ data.note }} on treble clef" class="img-fluid" 
							style="max-width: 420px; width: 100%; height: auto;">
                        <img src="{{ data.bass_clef_image }}" alt="Note {{ data.note }} on bass clef" class="img-fluid" 
							style="max-width: 420px; width: 100%; height: auto;">
                    </div>
                </div>
            </div>
            <div class="col-md-6 d-flex">
                <div class="section-container flex-fill d-flex flex-column align-items-center justify-content-center" 
					style="gap: 1.5rem; max-width: 420px; width: 100%;">
                    <div style="width: 100%;">
                        <h2 class="text-center">Find it on the Piano</h2>
                        <div class="image-wrapper d-flex justify-content-center">
                            <img src="{{ data.piano_image }}" alt="Note {{ data.note }} on piano keyboard" class="img-fluid" 
								style="width: 100%; height: auto;">
                        </div>
                    </div>
                    <div style="width: 100%;">
                        <h2 class="text-center">Listen to the Note</h2>
                        <div class="audio-wrapper d-flex justify-content-center">
                            <audio id="noteAudio" controls style="width: 100%;">
                                <source src="{{ data.sound }}" type="audio/mpeg">
                                Your browser does not support the audio element.
                            </audio>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="navigation-section mt-4 d-flex justify-content-center gap-3">
            <a href="/learn/accidentals/notes" class="nav-btn btn-back">Back to Notes</a>
            {% if data.next_note %}
            <a href="/learn/accidentals/notes/{{ data.next_note | urlencode }}" class="nav-btn btn-next">Next: Note {{ data.next_note }}</a>
            {% else %}
            <a href="/learn/challenge" class="nav-btn btn-next">Next: Challenge Mode</a>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
$(document).ready(function() {
    $('#learnBtn').addClass('active');
});
</script>
{% endblock %} 